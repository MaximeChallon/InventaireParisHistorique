{% extends "container.html" %}

{% block titre %}
Mon profil
{% endblock %}

{% block js %}

<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
{%endblock%}

{% block corps %}
<div class="container">
    <div class="row">
        <h1 style="font-size:16pt;color:#da1916;">Mon profil</h1>
    </div>
    <div class="row">
        <div class="col-sm-5">
        <form method="post" novalidate>
            {{ form.hidden_tag() }}
            <p>Prénom {{ form.Prenom }}</p>
            <p>Nom {{ form.Nom }}</p>
            <p>Adresse e-mail {{ form.Mail }}</p>
            {{ form.submit }}
        </form>
        </div>
        <div class="col-sm-2"></div>
        <div class="col-sm-5">
            <p>Mes chiffres
            <ul>
            <li>{{ compteur_photos_ok }} photographies inventoriées</li>
            <li>{{ compteur_photos_attente }} photographies en attente d'entrée dans l'inventaire</li>
        </ul></p>
        </div>
    </div>
    <div>
        <p>Pour changer le mot de passe, <a href="{{url_for('forgot_password')}}">cliquer ici</a></p>
    </div>




    <div class="row">
        <div id="chart_mots_cles" width="500px"></div>
    </div>
</div>


<script>
    var element =  document.getElementById('chart_mots_cles');
if (typeof(element) != 'undefined' && element != null)
{
    var data = [{
  values: {{liste_mots_cles[1]}},
  labels: {{liste_mots_cles[0] | safe}},
  type: 'pie'
}];

var layout = {
  height: 500,
  width: 700,
  title:{text:'Mes mots-clés les plus utilisés',font: {
      family: 'Courier New, monospace',
      size: 24
    },
    xref: 'paper',
    x: 0.05,}
};

Plotly.newPlot(element, data, layout);
  // Exists.
}
else{console.log("non");}
</script>
{% endblock %}